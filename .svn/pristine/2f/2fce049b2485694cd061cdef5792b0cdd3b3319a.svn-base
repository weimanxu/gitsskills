<?php

class MyController extends CustomBaseController {
    
    /**
     * 钱包
     * 
     * @param 
     * @return
     * @author Ymj Create At 2017年6月28日
     */
    public function WalletAction () {
       /*  //判断是否已经登录
        $userInfo = $this->checkLoginAndGetInfo();
        if(empty($userInfo)){
            App::$response->gotoPage('/login');
        }
        //页面初始化工作
        $this->pageInit();
        //创建WalletClass对象，通过调用listWalletProById方法获取该用户钱包项目信息
        $walletClass=new WalletClass();
        //获取该用户BTC货币钱包项目列表
        $listBtcWalletProject=$walletClass->listWalletProById($userInfo['id'],'btc');
        echo $listBtcWalletProject;die;
        //获取该用户ETH货币钱包项目列表
        $listEthWalletProject=$walletClass->listWalletProById($userInfo['id'],'eth');
        //只当项目进行中才显示地址
        foreach ($listBtcWalletProject as $k=>&$v){
            if ($v['begintime']>time() || $v['endtime']<=time()){
                $v['address']='';
            }
            $v['amount']=Format::formatNumber($v['amount'],8);
            $v['token']=Format::formatNumber($v['token'],8);
        }
        foreach ($listEthWalletProject as $k=>&$v){
            if ($v['begintime']>time() || $v['endtime']<=time()){
                $v['address']='';
            }
            $v['amount']=Format::formatNumber($v['amount'],8);
            $v['token']=Format::formatNumber($v['token'],8);
        }
        App::$view->layout = 'main';
        App::$view->loadView('my/wallet', [
            'navWallet' => true,
            'listBtcWalletProject' =>$listBtcWalletProject,
            'listEthWalletProject' =>$listEthWalletProject,
        ]); */
    }
}
